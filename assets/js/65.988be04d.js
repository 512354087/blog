(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{698:function(n,s,a){"use strict";a.r(s);var e=a(76),t=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"起步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#起步"}},[n._v("#")]),n._v(" 起步")]),n._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://manual.deno.js.cn/getting_started/command_line_interface.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("deno文档"),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("命令行界面")])])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("# 使用子命令\ndeno help\n\n# 使用短选项 —— 输出和上面一样\ndeno -h\n\n# 使用长选项 —— 输出更加详细\ndeno --help\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("ul",[s("li",[n._v('脚本来源\nDeno 可以从多个来源获取脚本，一个文件名，一个 URL，或者是 "-"，表示从标准输入读取，在与其他应用集成时很有用。')])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("deno run main.ts\ndeno run https://mydomain.com/main.ts\ncat main.ts | deno run -\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("ul",[s("li",[n._v("脚本参数")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('deno run main.ts a b -c --quiet\n// main.ts\nconsole.log(Deno.args); // [ "a", "b", "-c", "--quiet" ]\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("p",[s("strong",[n._v("请注意，在脚本名称之后传递的所有内容都将作为脚本参数传递，而不会用作 Deno 运行时选项。")]),n._v("\n这将导致以下陷阱：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("# 正常情况：我们给 net_client.ts 授予网络权限。\ndeno run --allow-net net_client.ts\n\n# 错误情况：--allow-net 传递为 Deno.args，引发网络权限错误。\ndeno run net_client.ts --allow-net\n\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br")])]),s("ul",[s("li",[n._v("缓存和编译选项§\n影响可以增加缓存的命令：deno cache，deno run 和 deno test.")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("--config <FILE>               加载 tsconfig.json 配置文件\n--importmap <FILE>            不稳定的: 加载导入映射文件\n--no-remote                   不要解析远程模块\n--reload=<CACHE_BLOCKLIST>    重新加载源代码缓存（重新编译 TypeScript）\n--unstable                    启用不稳定 API\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br")])]),s("ul",[s("li",[s("p",[n._v("运行时选项\n影响可以运行用户代码的命令：deno run 和 deno test.")])]),n._v(" "),s("li",[s("p",[n._v("权限选项\n默认情况下，Deno是安全的。因此 Deno 模块没有文件、网络或环境的访问权限，除非您为它授权。在命令行参数中为 deno 进程授权后才能访问安全敏感的功能。")])])]),n._v(" "),s("p",[s("strong",[n._v("权限列表§")]),n._v("\n以下权限是可用的：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("-A, --allow-all 允许所有权限，这将禁用所有安全限制。\n--allow-env 允许环境访问，例如读取和设置环境变量。\n--allow-hrtime 允许高精度时间测量，高精度时间能够在计时攻击和特征识别中使用。\n--allow-net=<allow-net> 允许网络访问。您可以指定一系列用逗号分隔的域名，来提供域名白名单。\n--allow-plugin 允许加载插件。请注意：这是一个不稳定功能。\n--allow-read=<allow-read> 允许读取文件系统。您可以指定一系列用逗号分隔的目录或文件，来提供文件系统白名单。\n--allow-run 允许运行子进程。请注意，子进程不在沙箱中运行，因此没有与 deno 进程相同的安全限制，请谨慎使用。\n--allow-write=<allow-write> 允许写入文件系统。您可以指定一系列用逗号分隔的目录或文件，来提供文件系统白名单。\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("p",[n._v("在以下示例中，mod.ts 只被授予文件系统的只读权限。它无法对其进行写入，或执行任何其他对安全性敏感的操作。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("deno run --allow-read mod.ts\n\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("ul",[s("li",[n._v("其他运行时选项\n影响运行时环境的更多选项：")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("--cached-only                要求远程依赖已经被缓存\n--inspect=<HOST:PORT>        在 host:port 启动检查器\n--inspect-brk=<HOST:PORT>    在 host:port 启动检查器并且暂停执行\n--seed <NUMBER>              指定 Math.random() 的随机种子\n--v8-flags=<v8-flags>        设置 V8 命令行选项\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br")])]),s("h2",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[n._v("#")])])])}),[],!1,null,null,null);s.default=t.exports}}]);